import{u as p,a as u,j as e}from"./index-Be7Y3f13.js";import{R as d}from"./vendor-react-DBFghe8J.js";import"./vendor-utils-IHwoJ3uH.js";import"./vendor-firebase-_yAk6ILj.js";const g=({product:s})=>{const[l,n]=d.useState(""),a=p(t=>t.addItem),{settings:o}=u(),r=d.useMemo(()=>!o||!s.availableOptions?[]:o.productOptions.filter(t=>{var c;return(c=s.availableOptions)==null?void 0:c.includes(t.id)}),[s.availableOptions,o]),x=()=>{a({product:s,quantity:1,selectedOption:l||void 0})},i=r.find(t=>t.id===l),m=s.price+((i==null?void 0:i.price)||0),h=r&&r.length>0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 flex flex-col h-full",children:[e.jsx("div",{className:"relative w-full h-[150px] mb-2",children:e.jsx("img",{src:s.image,alt:s.name,width:200,height:150,className:"absolute inset-0 w-full h-full object-cover rounded-lg",loading:"lazy"})}),e.jsxs("div",{className:"flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-sm font-semibold mb-1 line-clamp-1",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"mt-auto space-y-2",children:[e.jsxs("p",{className:"text-sm font-bold",children:["£",m.toFixed(2),i&&e.jsxs("span",{className:"text-xs font-normal text-gray-600 ml-1",children:["(Base: £",s.price.toFixed(2)," + ",i.title,": £",i.price.toFixed(2),")"]})]}),h&&e.jsxs("select",{value:l,onChange:t=>n(t.target.value),className:"w-full p-1 text-xs border rounded",children:[e.jsx("option",{value:"",children:"Select Options (Milk etc)"}),r.map(t=>e.jsxs("option",{value:t.id,children:[t.title," (+£",t.price.toFixed(2),")"]},t.id))]}),e.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white py-1 px-2 rounded text-xs hover:bg-blue-700 transition-colors",children:"Add to Cart"})]})]})]})},N=({products:s,category:l})=>{const n=d.useMemo(()=>s.filter(a=>a.category.toLowerCase()===l.toLowerCase()),[s,l]);return n.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-600",children:["No products available in ",l,"."]})}):e.jsx("div",{className:"mt-[50px]",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(a=>e.jsx(g,{product:a},a.id))})})};export{N as default};
//# sourceMappingURL=CategoryGrid-1Uen_SCw.js.map
