{"version":3,"file":"CategoryGrid-1Uen_SCw.js","sources":["../../src/components/ProductCard.tsx","../../src/components/CategoryGrid.tsx"],"sourcesContent":["import React from 'react';\nimport { Product } from '../types';\nimport { useCartStore } from '../store/cartStore';\nimport { useSettingsStore } from '../store/settingsStore';\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nexport const ProductCard: React.FC<ProductCardProps> = ({ product }) => {\n  const [selectedOptionId, setSelectedOptionId] = React.useState<string>('');\n  const addItem = useCartStore((state) => state.addItem);\n  const { settings } = useSettingsStore();\n\n  const availableOptions = React.useMemo(() => {\n    if (!settings || !product.availableOptions) return [];\n    return settings.productOptions.filter(option => \n      product.availableOptions?.includes(option.id)\n    );\n  }, [product.availableOptions, settings]);\n\n  const handleAddToCart = () => {\n    addItem({\n      product,\n      quantity: 1,\n      selectedOption: selectedOptionId || undefined\n    });\n  };\n\n  const selectedOption = availableOptions.find(opt => opt.id === selectedOptionId);\n  const totalPrice = product.price + (selectedOption?.price || 0);\n  const hasOptions = availableOptions && availableOptions.length > 0;\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-3 flex flex-col h-full\">\n      <div className=\"relative w-full h-[150px] mb-2\">\n        <img \n          src={product.image} \n          alt={product.name}\n          width={200}\n          height={150} \n          className=\"absolute inset-0 w-full h-full object-cover rounded-lg\"\n          loading=\"lazy\"\n        />\n      </div>\n      \n      <div className=\"flex flex-col flex-grow\">\n        <h3 className=\"text-sm font-semibold mb-1 line-clamp-1\">{product.name}</h3>\n        <p className=\"text-xs text-gray-600 mb-2 line-clamp-2\">{product.description}</p>\n        \n        <div className=\"mt-auto space-y-2\">\n          <p className=\"text-sm font-bold\">\n            £{totalPrice.toFixed(2)}\n            {selectedOption && (\n              <span className=\"text-xs font-normal text-gray-600 ml-1\">\n                (Base: £{product.price.toFixed(2)} + {selectedOption.title}: £{selectedOption.price.toFixed(2)})\n              </span>\n            )}\n          </p>\n\n          {hasOptions && (\n            <select\n              value={selectedOptionId}\n              onChange={(e) => setSelectedOptionId(e.target.value)}\n              className=\"w-full p-1 text-xs border rounded\"\n            >\n              <option value=\"\">Select Options (Milk etc)</option>\n              {availableOptions.map((option) => (\n                <option key={option.id} value={option.id}>\n                  {option.title} (+£{option.price.toFixed(2)})\n                </option>\n              ))}\n            </select>\n          )}\n\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-blue-600 text-white py-1 px-2 rounded text-xs hover:bg-blue-700 transition-colors\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};","import React from 'react';\nimport { Product, Category } from '../types';\nimport { ProductCard } from './ProductCard';\n\ninterface CategoryGridProps {\n  products: Product[];\n  category: Category;\n}\n\nconst CategoryGrid: React.FC<CategoryGridProps> = ({ products, category }) => {\n  const filteredProducts = React.useMemo(() => \n    products.filter((product) => product.category.toLowerCase() === category.toLowerCase()),\n    [products, category]\n  );\n\n  if (filteredProducts.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-600\">No products available in {category}.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mt-[50px]\">\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n        {filteredProducts.map((product) => (\n          <ProductCard key={product.id} product={product} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryGrid;"],"names":["ProductCard","product","selectedOptionId","setSelectedOptionId","React","addItem","useCartStore","state","settings","useSettingsStore","availableOptions","option","_a","handleAddToCart","selectedOption","opt","totalPrice","hasOptions","jsxs","jsx","e","CategoryGrid","products","category","filteredProducts"],"mappings":"8KASO,MAAMA,EAA0C,CAAC,CAAE,QAAAC,KAAc,CACtE,KAAM,CAACC,EAAkBC,CAAmB,EAAIC,EAAM,SAAiB,EAAE,EACnEC,EAAUC,EAAcC,GAAUA,EAAM,OAAO,EAC/C,CAAE,SAAAC,CAAS,EAAIC,EAAiB,EAEhCC,EAAmBN,EAAM,QAAQ,IACjC,CAACI,GAAY,CAACP,EAAQ,iBAAyB,CAAC,EAC7CO,EAAS,eAAe,OAC7BG,GAAA,OAAA,OAAAC,EAAAX,EAAQ,mBAAR,YAAAW,EAA0B,SAASD,EAAO,IAC5C,EACC,CAACV,EAAQ,iBAAkBO,CAAQ,CAAC,EAEjCK,EAAkB,IAAM,CACpBR,EAAA,CACN,QAAAJ,EACA,SAAU,EACV,eAAgBC,GAAoB,MAAA,CACrC,CACH,EAEMY,EAAiBJ,EAAiB,KAAYK,GAAAA,EAAI,KAAOb,CAAgB,EACzEc,EAAaf,EAAQ,QAASa,GAAA,YAAAA,EAAgB,QAAS,GACvDG,EAAaP,GAAoBA,EAAiB,OAAS,EAG/D,OAAAQ,EAAA,KAAC,MAAI,CAAA,UAAU,yDACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,iCACb,SAAAA,EAAA,IAAC,MAAA,CACC,IAAKlB,EAAQ,MACb,IAAKA,EAAQ,KACb,MAAO,IACP,OAAQ,IACR,UAAU,yDACV,QAAQ,MAAA,CAAA,EAEZ,EAEAiB,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAU,0CAA2C,SAAAlB,EAAQ,KAAK,EACrEkB,EAAA,IAAA,IAAA,CAAE,UAAU,0CAA2C,WAAQ,YAAY,EAE5ED,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,IAAA,CAAE,UAAU,oBAAoB,SAAA,CAAA,IAC7BF,EAAW,QAAQ,CAAC,EACrBF,GACCI,EAAA,KAAC,OAAK,CAAA,UAAU,yCAAyC,SAAA,CAAA,WAC9CjB,EAAQ,MAAM,QAAQ,CAAC,EAAE,MAAIa,EAAe,MAAM,MAAIA,EAAe,MAAM,QAAQ,CAAC,EAAE,GAAA,CACjG,CAAA,CAAA,EAEJ,EAECG,GACCC,EAAA,KAAC,SAAA,CACC,MAAOhB,EACP,SAAWkB,GAAMjB,EAAoBiB,EAAE,OAAO,KAAK,EACnD,UAAU,oCAEV,SAAA,CAACD,EAAA,IAAA,SAAA,CAAO,MAAM,GAAG,SAAyB,4BAAA,EACzCT,EAAiB,IAAKC,UACpB,SAAuB,CAAA,MAAOA,EAAO,GACnC,SAAA,CAAOA,EAAA,MAAM,OAAKA,EAAO,MAAM,QAAQ,CAAC,EAAE,GAAA,CADhC,EAAAA,EAAO,EAEpB,CACD,CAAA,CAAA,CACH,EAGFQ,EAAA,IAAC,SAAA,CACC,QAASN,EACT,UAAU,8FACX,SAAA,aAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,EC5EMQ,EAA4C,CAAC,CAAE,SAAAC,EAAU,SAAAC,KAAe,CAC5E,MAAMC,EAAmBpB,EAAM,QAAQ,IACrCkB,EAAS,OAAQrB,GAAYA,EAAQ,SAAS,YAAY,IAAMsB,EAAS,aAAa,EACtF,CAACD,EAAUC,CAAQ,CACrB,EAEI,OAAAC,EAAiB,SAAW,QAE3B,MAAI,CAAA,UAAU,oBACb,SAACN,EAAA,KAAA,IAAA,CAAE,UAAU,gBAAgB,SAAA,CAAA,4BAA0BK,EAAS,GAAA,CAAA,CAAC,CACnE,CAAA,QAKD,MAAI,CAAA,UAAU,YACb,SAACJ,EAAAA,IAAA,MAAA,CAAI,UAAU,uDACZ,SAAAK,EAAiB,IAAKvB,SACpBD,EAA6B,CAAA,QAAAC,CAAA,EAAZA,EAAQ,EAAsB,CACjD,EACH,CACF,CAAA,CAEJ"}